<?xml version="1.0" encoding="UTF-8"?>

<PropertyList>

    <name>payload</name>
    <layout>vbox</layout>

    <group>
        <layout>hbox</layout>
        <text>
            <label>Passengers and baggage</label>
        </text>

        <empty>
            <stretch>true</stretch>
        </empty>

        <button>
            <halign>right</halign>
            <pref-width>16</pref-width>
            <pref-height>16</pref-height>
            <legend />
            <key>Esc</key>
            <binding>
                <command>dialog-close</command>
            </binding>
        </button>

    </group>

    <hrule />

    <!--Passengers and cargo overview-->

    <group>
        <layout>table</layout>

        <text>
            <row>0</row>
            <col>0</col>
            <label>Type</label>
            <halign>right</halign>
        </text>

        <text>
            <row>0</row>
            <col>2</col>
            <label>Requested</label>
        </text>

        <empty>
            <row>0</row>
            <col>3</col>
            <stretch>true</stretch>
        </empty>

        <empty>
            <row>0</row>
            <col>4</col>
            <stretch>true</stretch>
        </empty>

        <text>
            <row>0</row>
            <col>5</col>
            <label>On board</label>
            <halign>left</halign>
        </text>

        <empty>
            <row>0</row>
            <col>6</col>
            <stretch>true</stretch>
        </empty>

        <text>
            <row>0</row>
            <col>7</col>
            <label>Weight</label>
            <halign>left</halign>
        </text>

        <empty>
            <row>0</row>
            <col>8</col>
            <stretch>true</stretch>
        </empty>

        <empty>
            <row>0</row>
            <col>9</col>
            <stretch>true</stretch>
        </empty>

        <text>
            <row>1</row>
            <col>0</col>
            <label>First</label>
            <halign>right</halign>
        </text>

        <button>
            <row>1</row>
            <col>1</col>
            <legend>-</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>/services/payload/first-request-nr</property>
                <step>-1.0</step>
                <min>0</min>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <slider>
            <row>1</row>
            <col>2</col>
            <pref-width>250</pref-width>
            <property>services/payload/first-request-nr</property>
            <min>0.0</min>
            <max>0.0</max>
            <step>1.0</step>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <live>true</live>
        </slider>

        <button>
            <row>1</row>
            <col>3</col>
            <legend>+</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>services/payload/first-request-nr</property>
                <step>1.0</step>
                <max>0.0</max>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <text>
            <row>1</row>
            <col>4</col>
            <property>services/payload/first-request-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>1</row>
            <col>5</col>
            <property>services/payload/first-onboard-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>1</row>
            <col>6</col>
            <property>services/payload/first-onboard-lbs</property>
            <live>true</live>
            <halign>right</halign>
        </text>

        <text>
            <row>1</row>
            <col>8</col>
            <label>Lbs</label>
            <halign>left</halign>
        </text>

        <text>
            <row>2</row>
            <col>0</col>
            <label>Business</label>
            <halign>right</halign>
        </text>

        <button>
            <row>2</row>
            <col>1</col>
            <legend>-</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>services/payload/business-request-nr</property>
                <step>-1.0</step>
                <min>0</min>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <slider>
            <row>2</row>
            <col>2</col>
            <pref-width>250</pref-width>
            <property>services/payload/business-request-nr</property>
            <min>0.0</min>
            <max>0.0</max>
            <step>1.0</step>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <live>true</live>
        </slider>

        <button>
            <row>2</row>
            <col>3</col>
            <legend>+</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>services/payload/business-request-nr</property>
                <step>1.0</step>
                <max>0.0</max>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <text>
            <row>2</row>
            <col>4</col>
            <property>services/payload/business-request-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>2</row>
            <col>5</col>
            <property>services/payload/business-onboard-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>2</row>
            <col>6</col>
            <property>services/payload/business-onboard-lbs</property>
            <live>true</live>
            <halign>right</halign>
        </text>

        <text>
            <row>2</row>
            <col>8</col>
            <label>Lbs</label>
            <halign>left</halign>
        </text>

        <text>
            <row>3</row>
            <col>0</col>
            <label>Economy</label>
            <halign>right</halign>
        </text>

        <button>
            <row>3</row>
            <col>1</col>
            <legend>-</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>services/payload/economy-request-nr</property>
                <step>-1.0</step>
                <min>0</min>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <slider>
            <row>3</row>
            <col>2</col>
            <pref-width>250</pref-width>
            <property>services/payload/economy-request-nr</property>
            <min>0.0</min>
            <max>0.0</max>
            <step>1.0</step>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <live>true</live>
        </slider>

        <button>
            <row>3</row>
            <col>3</col>
            <legend>+</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>services/payload/economy-request-nr</property>
                <step>1.0</step>
                <max>0.0</max>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <text>
            <row>3</row>
            <col>4</col>
            <property>services/payload/economy-request-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>3</row>
            <col>5</col>
            <property>services/payload/economy-onboard-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>3</row>
            <col>6</col>
            <property>services/payload/economy-onboard-lbs</property>
            <live>true</live>
            <halign>right</halign>
        </text>

        <text>
            <row>3</row>
            <col>8</col>
            <label>Lbs</label>
            <halign>left</halign>
        </text>

        <text>
            <row>4</row>
            <col>0</col>
            <label>Total:</label>
            <halign>right</halign>
        </text>

        <text>
            <row>4</row>
            <col>4</col>
            <property>services/payload/pax-request-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>4</row>
            <col>5</col>
            <property>services/payload/pax-onboard-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>4</row>
            <col>6</col>
            <property>services/payload/pax-onboard-lbs</property>
            <live>true</live>
            <halign>right</halign>
        </text>

        <text>
            <row>4</row>
            <col>8</col>
            <label>Lbs</label>
            <halign>left</halign>
        </text>

        <text>
            <row>5</row>
            <col>0</col>
            <label>Belly cargo</label>
            <halign>right</halign>
        </text>

        <input>
            <row>5</row>
            <col>2</col>
            <pref-width>250</pref-width>
            <pref-height>17</pref-height>
            <property>services/payload/belly-request-lbs</property>
            <live>true</live>
            <binding>
                <command>dialog-apply</command>
            </binding>
        </input>

        <text>
            <row>5</row>
            <col>4</col>
            <label>Lbs</label>
            <halign>left</halign>
        </text>

        <text>
            <row>5</row>
            <col>6</col>
            <property>services/payload/belly-onboard-lbs</property>
            <halign>right</halign>
            <live>true</live>
        </text>

        <text>
            <row>5</row>
            <col>8</col>
            <label>Lbs</label>
            <halign>left</halign>
        </text>

        <text>
            <row>6</row>
            <col>0</col>
            <label>Catering</label>
            <halign>right</halign>
        </text>

        <button>
            <row>6</row>
            <col>1</col>
            <legend>-</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>services/catering/request-lbs</property>
                <step>-1.0</step>
                <min>0.0</min>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <slider>
            <row>6</row>
            <col>2</col>
            <pref-width>250</pref-width>
            <property>services/catering/request-lbs</property>
            <min>0.0</min>
            <max>0.0</max>
            <step>1.0</step>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <live>true</live>
        </slider>

        <button>
            <row>6</row>
            <col>3</col>
            <legend>+</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>services/catering/request-lbs</property>
                <step>1.0</step>
                <max>0.0</max>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <text>
            <row>6</row>
            <col>4</col>
            <property>services/catering/request-lbs</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>6</row>
            <col>6</col>
            <property>services/catering/weight-lbs</property>
            <live>true</live>
            <halign>right</halign>
        </text>

        <text>
            <row>6</row>
            <col>8</col>
            <label>Lbs</label>
            <halign>left</halign>
        </text>

        <text>
            <row>7</row>
            <col>0</col>
            <label>Crew</label>
            <halign>right</halign>
        </text>

        <button>
            <row>7</row>
            <col>1</col>
            <legend>-</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>services/payload/crew-request-nr</property>
                <step>-1.0</step>
                <min>2.0</min>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <slider>
            <row>7</row>
            <col>2</col>
            <pref-width>250</pref-width>
            <property>services/payload/crew-request-nr</property>
            <min>2.0</min>
            <max>20.0</max>
            <step>1.0</step>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <live>true</live>
        </slider>

        <button>
            <row>7</row>
            <col>3</col>
            <legend>+</legend>
            <pref-width>20</pref-width>
            <pref-height>20</pref-height>
            <padding>0</padding>
            <binding>
                <command>property-adjust</command>
                <property>services/payload/crew-request-nr</property>
                <step>1.0</step>
                <max>20.0</max>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
        </button>

        <text>
            <row>7</row>
            <col>4</col>
            <property>services/payload/crew-request-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>7</row>
            <col>5</col>
            <property>services/payload/crew-onboard-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>7</row>
            <col>6</col>
            <property>services/payload/crew-onboard-lbs</property>
            <live>true</live>
            <halign>right</halign>
        </text>

        <text>
            <row>7</row>
            <col>8</col>
            <label>Lbs</label>
            <halign>left</halign>
        </text>

    </group>

    <hrule />

    <group>

        <layout>table</layout>

        <text>
            <row>0</row>
            <col>0</col>
            <label>Souls on Board:</label>
            <halign>right</halign>
            <padding>0</padding>
        </text>

        <text>
            <row>0</row>
            <col>1</col>
            <property>services/payload/SOB-nr</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>1</row>
            <col>0</col>
            <label>Expected crew &amp; payload weight:</label>
            <halign>right</halign>
            <padding>0</padding>
        </text>

        <text>
            <row>1</row>
            <col>1</col>
            <property>services/payload/expected-weight-lbs</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>2</row>
            <col>0</col>
            <label>Total crew &amp; payload weight:</label>
            <halign>right</halign>
            <padding>0</padding>
        </text>

        <text>
            <row>2</row>
            <col>1</col>
            <property>services/payload/weight-total-lbs</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>3</row>
            <col>0</col>
            <label>Maximum crew &amp; payload weight:</label>
            <halign>right</halign>
            <padding>0</padding>
        </text>

        <text>
            <row>3</row>
            <col>1</col>
            <property>sim/weight[1]/max-lb</property>
            <live>true</live>
            <halign>left</halign>
        </text>

        <text>
            <row>0</row>
            <col>2</col>
            <label>Zero Fuel weight:</label>
            <halign>right</halign>
        </text>

        <text>
            <row>0</row>
            <col>3</col>
            <property>yasim/zero-fuel-weight-lbs</property>
            <live>true</live>
            <halign>left</halign>
            <padding>3</padding>
            <format>%.0f</format>
        </text>

        <text>
            <row>1</row>
            <col>2</col>
            <label>Gross weight:</label>
            <halign>right</halign>
        </text>

        <text>
            <row>1</row>
            <col>3</col>
            <property>yasim/gross-weight-lbs</property>
            <live>true</live>
            <halign>left</halign>
            <padding>3</padding>
        </text>

        <text>
            <row>2</row>
            <col>2</col>
            <label>Maximum takeoff weight:</label>
            <halign>right</halign>
        </text>

        <text>
            <row>2</row>
            <col>3</col>
            <property>sim/max-takeoff-weight</property>
            <halign>left</halign>
            <padding>3</padding>
        </text>

        <text>
            <row>3</row>
            <col>2</col>
            <label>Maximum landing weight:</label>
            <halign>right</halign>
        </text>

        <text>
            <row>3</row>
            <col>3</col>
            <property>sim/max-landing-weight</property>
            <halign>left</halign>
            <padding>3</padding>
        </text>

    </group>

    <hrule />

    <group>
        <layout>table</layout>

        <checkbox>
            <row>0</row>
            <col>0</col>
            <label>Stairs Door 1L</label>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <property>services/stairs/stairs1_enable</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>1</row>
            <col>0</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Stairs Door 2L</label>
            <property>services/stairs/stairs2_enable</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>2</row>
            <col>0</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Stairs Door 4L</label>
            <property>services/stairs/stairs3_enable</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>3</row>
            <col>0</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Stairs Door 5L</label>
            <property>services/stairs/stairs4_enable</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <button>
            <row>4</row>
            <col>0</col>
            <halign>left</halign>
            <legend>Modify stairs</legend>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <binding>
                <command>dialog-show</command>
                <dialog-name>stairs_paint</dialog-name>
            </binding>
        </button>

        <checkbox>
            <!-- This is only used for calculating the boarding speed and will not move any jetway models!!-->
            <row>0</row>
            <col>1</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Jetway Door 1L</label>
            <property>services/payload/jetway1_enable</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <!-- This is only used for calculating the boarding speed and will not move any jetway models!!-->
            <row>1</row>
            <col>1</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Jetway Door 2L</label>
            <property>services/payload/jetway2_enable</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>2</row>
            <col>1</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Baggage Truck 1</label>
            <property>services/payload/baggage-truck1-enable</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>3</row>
            <col>1</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Baggage Truck 2</label>
            <property>services/payload/baggage-truck2-enable</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <button>
            <row>4</row>
            <col>1</col>
            <halign>left</halign>
            <legend>Connect all</legend>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <binding>
                <command>nasal</command>
                <script>
                if (getprop("services/payload/connectall") == 0) {
                    setprop("services/stairs/stairs1_enable", 0);
                    setprop("services/stairs/stairs2_enable", 0);
                    setprop("services/stairs/stairs3_enable", 0);
                    setprop("services/stairs/stairs4_enable", 0);
                    setprop("services/payload/jetway1_enable", 1);
                    setprop("services/payload/jetway2_enable", 1);
                    setprop("services/payload/baggage-truck1-enable", 1);
                    setprop("services/payload/baggage-truck2-enable", 1);
                    setprop("services/catering/truck[0]/enabled", 1);
                    setprop("services/catering/truck[1]/enabled", 1);
                    setprop("services/catering/truck[2]/enabled", 1);
                    setprop("services/catering/truck[3]/enabled", 1);
                    setprop("services/catering/truck[0]/connect", 1);
                    setprop("services/catering/truck[1]/connect", 1);
                    setprop("services/catering/truck[2]/connect", 1);
                    setprop("services/catering/truck[3]/connect", 1);
                    setprop("services/payload/connectall", 1);
                    gui.popupTip("Click again to select stairs", 5);
                } else {
                    setprop("services/payload/jetway1_enable", 0);
                    setprop("services/payload/jetway2_enable", 0);
                    setprop("services/stairs/stairs1_enable", 1);
                    setprop("services/stairs/stairs2_enable", 1);
                    setprop("services/stairs/stairs3_enable", 1);
                    setprop("services/stairs/stairs4_enable", 1);
                    setprop("services/payload/baggage-truck1-enable", 1);
                    setprop("services/payload/baggage-truck2-enable", 1);
                    setprop("services/catering/truck[0]/enabled", 1);
                    setprop("services/catering/truck[1]/enabled", 1);
                    setprop("services/catering/truck[2]/enabled", 1);
                    setprop("services/catering/truck[3]/enabled", 1);
                    setprop("services/catering/truck[0]/connect", 1);
                    setprop("services/catering/truck[1]/connect", 1);
                    setprop("services/catering/truck[2]/connect", 1);
                    setprop("services/catering/truck[3]/connect", 1);
                    setprop("services/payload/connectall", 0);
                    gui.popupTip("Click again to select jetways", 5);
                }
            </script>
            </binding>
        </button>

        <checkbox>
            <row>0</row>
            <col>2</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Catering Truck 1</label>
            <property>services/catering/truck[0]/enabled</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>1</row>
            <col>2</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Catering Truck 2</label>
            <property>services/catering/truck[1]/enabled</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>2</row>
            <col>2</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Catering Truck 3</label>
            <property>services/catering/truck[2]/enabled</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>3</row>
            <col>2</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Catering Truck 4</label>
            <property>services/catering/truck[3]/enabled</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <button>
            <row>4</row>
            <col>2</col>
            <halign>left</halign>
            <legend>Disconnect all</legend>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <binding>
                <command>nasal</command>
                <script>
                setprop("services/stairs/stairs1_enable", 0);
                setprop("services/stairs/stairs2_enable", 0);
                setprop("services/stairs/stairs3_enable", 0);
                setprop("services/stairs/stairs4_enable", 0);
                setprop("services/payload/jetway1_enable", 0);
                setprop("services/payload/jetway2_enable", 0);
                setprop("services/payload/baggage-truck1-enable", 0);
                setprop("services/payload/baggage-truck2-enable", 0);
                setprop("services/catering/truck[0]/enabled", 0);
                setprop("services/catering/truck[1]/enabled", 0);
                setprop("services/catering/truck[2]/enabled", 0);
                setprop("services/catering/truck[3]/enabled", 0);
                setprop("services/catering/truck[0]/connect", 0);
                setprop("services/catering/truck[1]/connect", 0);
                setprop("services/catering/truck[2]/connect", 0);
                setprop("services/catering/truck[3]/connect", 0);
                #props.toggleBoolValue("services/payload/connectall");
                setprop("services/payload/connectall", !getprop("services/payload/connectall")); #reset to chosen configuration for next time
            </script>
            </binding>
        </button>

        <checkbox>
            <row>0</row>
            <col>3</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Connect to 1R</label>
            <property>services/catering/truck[0]/connect</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>1</row>
            <col>3</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Connect to 2R</label>
            <property>services/catering/truck[1]/connect</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>2</row>
            <col>3</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Connect to 4R</label>
            <property>services/catering/truck[2]/connect</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <checkbox>
            <row>3</row>
            <col>3</col>
            <pref-width>110</pref-width>
            <pref-height>20</pref-height>
            <label>Connect to 5R</label>
            <property>services/catering/truck[3]/connect</property>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <halign>left</halign>
            <live>true</live>
        </checkbox>

        <button>
            <legend>Catering details</legend>
            <pref-width>110</pref-width>
            <pref-height>24</pref-height>
            <row>4</row>
            <col>3</col>
            <halign>left</halign>
            <binding>
                <command>dialog-show</command>
                <dialog-name>catering</dialog-name>
            </binding>
        </button>

    </group>

    <hrule />

    <group>
        <layout>table</layout>

        <text>
            <row>0</row>
            <col>0</col>
            <halign>center</halign>
            <label>Passengers</label>
            <pref-width>120</pref-width>
        </text>

        <button>
            <row>1</row>
            <col>0</col>
            <halign>left</halign>
            <legend>Start boarding</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <binding>
                <command>nasal</command>
                <script>
                    <![CDATA[
                if (getprop("services/stairs/stairs1_enable") + getprop("services/stairs/stairs2_enable") + getprop("services/stairs/stairs3_enable") + getprop("services/payload/jetway1_enable") + getprop("services/payload/jetway2_enable") == 0) {
                    screen.log.write("Captain, we cannot start boarding, no stairs or jetways are connected.", 1, 0, 0);
                } else {
                    setprop("services/payload/pax-boarding", 1);
                    setprop("services/payload/boardingcomplete", 0);
                    var boardingtime = math.round(((getprop("services/payload/pax-request-nr")-getprop("services/payload/pax-onboard-nr")) / (getprop("services/stairs/stairs1_enable") + getprop("services/stairs/stairs2_enable") + getprop("services/stairs/stairs3_enable") + getprop("services/stairs/stairs4_enable") + getprop("services/payload/jetway1_enable") + getprop("services/payload/jetway2_enable"))) / 60 * getprop("services/payload/speed"));
                    screen.log.write("Passenger boarding started. Estimated boarding time: " ~ boardingtime ~ " minutes.", 0, 0.584, 1);
                    setprop("services/payload/boardingtime_remaining", boardingtime ~ " min remaining");
                }
                ]]>
                </script>
            </binding>
        </button>

        <text>
            <row>0</row>
            <col>1</col>
            <halign>center</halign>
            <label>Cargo</label>
            <pref-width>120</pref-width>
        </text>

        <button>
            <row>1</row>
            <col>1</col>
            <halign>left</halign>
            <legend>Start loading</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <binding>
                <command>nasal</command>
                <script>
                    <![CDATA[
                    if (((getprop("services/payload/baggage-truck1-enable") == 1) or (getprop("services/payload/baggage-truck2-enable") == 1)) and (getprop("services/payload/belly-request-lbs")!=0)) {
                        setprop("services/payload/baggage-loading", 1);
                        setprop("services/payload/loadingcomplete", 0);
                        var loadingtime = math.round((getprop("services/payload/belly-request-lbs") - getprop("services/payload/belly-onboard-lbs")) / (150 * (getprop("services/payload/baggage-truck1-enable") + getprop("services/payload/baggage-truck2-enable"))) / 60 * getprop("services/payload/speed"));
                        screen.log.write("Baggage loading started. Estimated loading time: " ~ loadingtime ~ " minutes.", 0, 0.584, 1);
                        setprop("services/payload/loadingtime_remaining", loadingtime ~ " min remaining");
                    } else {
                        screen.log.write("Please enable a baggage truck first!", 1, 0, 0);
                    }
                    ]]>
                </script>
            </binding>
        </button>

        <text>
            <row>0</row>
            <col>2</col>
            <halign>center</halign>
            <label>Catering</label>
            <pref-width>120</pref-width>
        </text>

        <button>
            <row>1</row>
            <col>2</col>
            <halign>left</halign>
            <legend>Start loading</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <binding>
                <command>nasal</command>
                <script>
                    <![CDATA[
                    if (((getprop("services/catering/truck[0]/cargo/position-norm") == 1) or (getprop("services/catering/truck[1]/cargo/position-norm") == 1) or (getprop("services/catering/truck[2]/cargo/position-norm") == 1) or (getprop("services/catering/truck[3]/cargo/position-norm") == 1)) and (getprop("services/catering/request-lbs") != 0)) {
                        if (getprop("services/catering/weight-max-lbs") < getprop("services/catering/request-lbs")) {
                            screen.log.write("Captain, we can't load so many catering trolleys, please reduce the requested catering weight", 1, 0, 0);
                        } else {
                            setprop("services/catering/complete", 0);
                            if (getprop("services/catering/truck[0]/cargo/position-norm") == 1) {
                                setprop("services/catering/truck[0]/complete", 0);
                            } else {
                                setprop("services/catering/truck[0]/complete", 1);
                            }
                            if (getprop("services/catering/truck[1]/cargo/position-norm") == 1) {
                                setprop("services/catering/truck[1]/complete", 0);
                            } else {
                                setprop("services/catering/truck[1]/complete", 1);
                            }
                            if (getprop("services/catering/truck[2]/cargo/position-norm") == 1) {
                                setprop("services/catering/truck[2]/complete", 0);
                            } else {
                                setprop("services/catering/truck[2]/complete", 1);
                            }
                            if (getprop("services/catering/truck[3]/cargo/position-norm") == 1) {
                                setprop("services/catering/truck[3]/complete", 0);
                            } else {
                                setprop("services/catering/truck[3]/complete", 1);
                            }
                            setprop("services/catering/loading", 1);
                            var loadingtime = math.round((getprop("services/catering/request-lbs") - getprop("services/catering/weight-lbs")) / 80 / 60 * getprop("services/payload/speed"));
                            screen.log.write("Catering loading started. Estimated time remaining: " ~ loadingtime ~ " minutes.", 0, 0.584, 1);
                            setprop("services/catering/time_remaining", loadingtime ~ " min remaining");  
                        }
                    } elsif (getprop("services/catering/request-lbs") > getprop("services/catering/weight-lbs")) {
                        screen.log.write("Please enable at least one catering truck first!", 1, 0, 0);
                    } else {
                        screen.log.write("No more catering trolleys to load.", 1, 0, 0);
                    }
                    ]]>
                </script>
            </binding>
        </button>

        <text>
            <row>0</row>
            <col>3</col>
            <halign>center</halign>
            <label>Speed</label>
            <pref-width>120</pref-width>
        </text>

        <button>
            <row>1</row>
            <col>3</col>
            <halign>left</halign>
            <legend>Normal</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <binding>
                <command>property-assign</command>
                <property>services/payload/speed</property>
                <value>6.0</value>
            </binding>
            <binding>
                <command>property-assign</command>
                <property>services/payload/speed-text</property>
                <value>Normal</value>
            </binding>
        </button>

        <button>
            <row>2</row>
            <col>0</col>
            <halign>left</halign>
            <legend>Start deboarding</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <binding>
                <command>nasal</command>
                <script>
                    <![CDATA[
                setprop("services/payload/pax-boarding", 2);
                setprop("services/payload/boardingcomplete", 0);
                var boardingtime = math.round(getprop("services/payload/pax-onboard-nr") / (getprop("services/stairs/stairs1_enable") + getprop("services/stairs/stairs2_enable") + getprop("services/stairs/stairs3_enable") + getprop("services/stairs/stairs4_enable") + getprop("services/payload/jetway1_enable") + getprop("services/payload/jetway2_enable")) / 60 * getprop("services/payload/speed"));
                screen.log.write("Passenger deboarding started. Estimated deboarding time: " ~ boardingtime ~ " minutes.", 0, 0.584, 1);
                setprop("services/payload/boardingtime_remaining", boardingtime ~ " min remaining");
                ]]>
                </script>
            </binding>
        </button>

        <button>
            <row>2</row>
            <col>1</col>
            <halign>left</halign>
            <legend>Start unloading</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <binding>
                <command>nasal</command>
                <script>
                    <![CDATA[
                    if ((getprop("services/payload/baggage-truck1-enable") == 1) or (getprop("services/payload/baggage-truck2-enable") == 1)) {
                        setprop("services/payload/baggage-loading", 2);
                        setprop("services/payload/loadingcomplete", 0);
                        setprop("services/payload/cateringcomplete", 0);
                        var loadingtime = math.round(getprop("services/payload/belly-onboard-lbs") / (150 * (getprop("services/payload/baggage-truck1-enable") + getprop("services/payload/baggage-truck2-enable"))) / 60 * getprop("services/payload/speed"));
                        screen.log.write("Baggage unloading started. Estimated unloading time: " ~ loadingtime ~ " minutes.", 0, 0.584, 1);
                        setprop("services/payload/loadingtime_remaining", loadingtime ~ " min remaining");
                    } else {
                        screen.log.write("Please enable a baggage truck first!", 1, 0, 0);
                    }
                    ]]>
                </script>
            </binding>
        </button>

        <button>
            <row>2</row>
            <col>2</col>
            <halign>left</halign>
            <legend>Start unloading</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <binding>
                <command>nasal</command>
                <script>
                    <![CDATA[
                    if (((getprop("services/catering/truck[0]/cargo/position-norm") == 1) or (getprop("services/catering/truck[1]/cargo/position-norm") == 1) or (getprop("services/catering/truck[2]/cargo/position-norm") == 1) or (getprop("services/catering/truck[3]/cargo/position-norm") == 1)) and (getprop("services/catering/weight-lbs") != 0)) {
                        setprop("services/catering/complete", 0);
                        setprop("services/catering/loading", 2);
                        if (getprop("services/catering/truck[0]/cargo/position-norm") == 1) {
                            setprop("services/catering/truck[0]/complete", 0);
                        } else {
                            setprop("services/catering/truck[0]/complete", 1);
                        }
                        if (getprop("services/catering/truck[1]/cargo/position-norm") == 1) {
                            setprop("services/catering/truck[1]/complete", 0);
                        } else {
                            setprop("services/catering/truck[1]/complete", 1);
                        }
                        if (getprop("services/catering/truck[2]/cargo/position-norm") == 1) {
                            setprop("services/catering/truck[2]/complete", 0);
                        } else {
                            setprop("services/catering/truck[2]/complete", 1);
                        }
                        if (getprop("services/catering/truck[3]/cargo/position-norm") == 1) {
                            setprop("services/catering/truck[3]/complete", 0);
                        } else {
                            setprop("services/catering/truck[3]/complete", 1);
                        }
                        var loadingtime = math.round(getprop("services/catering/weight-lbs") / 80 / 60 * getprop("services/payload/speed"));
                        screen.log.write("Waste unloading started. Estimated time remaining: " ~ loadingtime ~ " minutes.", 0, 0.584, 1);
                        setprop("services/catering/time_remaining", loadingtime ~ " min remaining");  
                    } elsif (getprop("services/catering/weight-lbs") != 0) {
                        screen.log.write("Please enable a catering truck to the galleys that contain trolleys first!", 1, 0, 0);
                    } else {
                        screen.log.write("No more catering trolleys on board.", 1, 0, 0);
                    }
                    ]]>
                </script>
            </binding>
        </button>

        <button>
            <row>2</row>
            <col>3</col>
            <halign>left</halign>
            <legend>Fast</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <binding>
                <command>property-assign</command>
                <property>services/payload/speed</property>
                <value>0.05</value>
            </binding>
            <binding>
                <command>property-assign</command>
                <property>services/payload/speed-text</property>
                <value>Fast</value>
            </binding>
        </button>

        <button>
            <legend>Stop (de)boarding</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <halign>left</halign>
            <row>3</row>
            <col>0</col>
            <binding>
                <command>nasal</command>
                <script>
                if (getprop("services/payload/pax-boarding") == 1) {
                    setprop("services/payload/pax-boarding", 0);
                    screen.log.write("Passenger boarding stopped.", 0, 0.584, 1);
                } elsif (getprop("services/payload/pax-boarding") == 2) {
                    setprop("services/payload/pax-boarding", 0);
                    screen.log.write("Passenger deboarding stopped.", 0, 0.584, 1);
                }
                setprop("services/payload/boardingtime_remaining", " ");
            </script>
            </binding>
        </button>

        <text>
            <row>4</row>
            <col>0</col>
            <halign>center</halign>
            <pref-width>120</pref-width>
            <property>services/payload/boardingtime_remaining</property>
            <live>true</live>
        </text>

        <button>
            <legend>Stop (un)loading</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <row>3</row>
            <col>1</col>
            <halign>left</halign>
            <binding>
                <command>nasal</command>
                <script>
                if (getprop("services/payload/baggage-loading") == 1) {
                    setprop("services/payload/baggage-loading", 0);
                    screen.log.write("Baggage loading stopped.", 0, 0.584, 1);
                } elsif (getprop("services/payload/baggage-loading") == 2) {
                    setprop("services/payload/baggage-loading", 0);
                    screen.log.write("Baggage unloading stopped.", 0, 0.584, 1);
                }
                setprop("services/payload/loadingtime_remaining", " ");
            </script>
            </binding>
        </button>

        <text>
            <row>4</row>
            <col>1</col>
            <halign>left</halign>
            <property>services/payload/loadingtime_remaining</property>
            <live>true</live>
        </text>

        <button>
            <legend>Stop (un)loading</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <row>3</row>
            <col>2</col>
            <halign>left</halign>
            <binding>
                <command>nasal</command>
                <script>
                if (getprop("services/catering/loading") == 1) {
                    setprop("services/catering/loading", 0);
                    screen.log.write("Catering loading stopped.", 0, 0.584, 1);
                } elsif (getprop("services/catering/loading") == 2) {
                    setprop("services/catering/loading", 0);
                    screen.log.write("Catering unloading stopped.", 0, 0.584, 1);
                }
                setprop("services/catering/time_remaining", "Stopped");
            </script>
            </binding>
        </button>

        <text>
            <row>4</row>
            <col>2</col>
            <halign>center</halign>
            <pref-width>120</pref-width>
            <property>services/catering/time_remaining</property>
            <live>true</live>
        </text>

        <button>
            <row>3</row>
            <col>3</col>
            <halign>left</halign>
            <legend>Instant</legend>
            <pref-width>120</pref-width>
            <pref-height>24</pref-height>
            <binding>
                <command>property-assign</command>
                <property>services/payload/speed-text</property>
                <value>Instant</value>
            </binding>
            <binding>
                <command>property-assign</command>
                <property>services/payload/speed</property>
                <value>0</value>
            </binding>
        </button>

        <text>
            <row>4</row>
            <col>3</col>
            <halign>center</halign>
            <pref-width>40</pref-width>
            <property>services/payload/speed-text</property>
            <live>true</live>
        </text>

    </group>

    <hrule />

    <group>
        <layout>hbox</layout>

        <button>
            <legend>Close</legend>
            <default>true</default>
            <key>Esc</key>
            <padding>5</padding>
            <binding>
                <command>dialog-apply</command>
            </binding>
            <binding>
                <command>dialog-close</command>
            </binding>
        </button>
    </group>

</PropertyList>